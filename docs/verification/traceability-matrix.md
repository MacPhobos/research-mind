# Traceability Matrix: Research Claims to Plan Coverage

**Audit Date**: 2026-02-01

---

## Table 1: Research Claims -> Plan Coverage

Each claim is extracted from primary research documents (not analysis artifacts). Confidence reflects the strength of evidence in the research.

| Claim ID | Claim Summary                                                            | Source File + Section                                                                                                      | Confidence | Covered By (Plan File:Section)                                                                                                                            | Status                                                                                   |
| -------- | ------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------- | ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| C001     | mcp-vector-search runs as CLI subprocess, NOT embeddable library         | research2/RESEARCH_SUMMARY.md line 74; research2/mcp-vector-search-subprocess-integration-research.md Section 1            | High       | 01_1_1-SERVICE_ARCHITECTURE.md (WorkspaceIndexer); 01_1_3-INDEXING_OPERATIONS.md (subprocess orchestration); 00-PHASE_1_0_ENVIRONMENT_SETUP.md Task 1.0.2 | COVERED                                                                                  |
| C002     | subprocess.run() with cwd parameter is the correct invocation pattern    | research2/mcp-vector-search-subprocess-integration-research.md Section 2.2                                                 | High       | 01_1_1-SERVICE_ARCHITECTURE.md Day 3-4; 01_1_3-INDEXING_OPERATIONS.md Task 1.3.1                                                                          | COVERED                                                                                  |
| C003     | Two-step flow: init --force then index --force                           | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md lines 31-45                                                               | High       | 01_1_3-INDEXING_OPERATIONS.md; 00-PHASE_1_0_ENVIRONMENT_SETUP.md Task 1.0.5                                                                               | COVERED                                                                                  |
| C004     | Exit codes: 0=success, 1=failure                                         | research2/mcp-vector-search-subprocess-integration-research.md Section 1.1 lines 66-69                                     | High       | 01_1_1-SERVICE_ARCHITECTURE.md (exit code handling); 01_1_3-INDEXING_OPERATIONS.md                                                                        | COVERED                                                                                  |
| C005     | Index stored in .mcp-vector-search/ per workspace (~432-552 KB)          | research2/mcp-vector-search-subprocess-integration-research.md Section 3.3                                                 | High       | 01_1_2-SESSION_MANAGEMENT.md (is_indexed check); 01_1_3-INDEXING_OPERATIONS.md (IndexStatusResponse)                                                      | COVERED                                                                                  |
| C006     | Parallel multi-workspace indexing is safe                                | research2/mcp-vector-search-subprocess-integration-research.md Section 6; research2/RESEARCH_SUMMARY.md line 20            | High       | 01_1_7-INTEGRATION_TESTS.md Test Category 3 (multi-workspace isolation)                                                                                   | COVERED                                                                                  |
| C007     | Same workspace concurrent indexing is NOT safe (single-writer)           | research2/RESEARCH_SUMMARY.md line 81; research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md lines 680-685                      | High       | 01_1_3-INDEXING_OPERATIONS.md                                                                                                                             | PARTIALLY COVERED - no explicit mutex/lock mechanism described                           |
| C008     | Performance: ~3.89s index, ~3.78s reindex (2-file test)                  | research2/mcp-vector-search-subprocess-integration-research.md Section 4.2                                                 | High       | 00-PHASE_1_0_ENVIRONMENT_SETUP.md Task 1.0.5 line 499                                                                                                     | COVERED                                                                                  |
| C009     | Large project performance not tested; estimated 120-300s for 1000+ files | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md lines 626-629                                                             | Medium     | 01_1_3-INDEXING_OPERATIONS.md (300-600s timeout); 01_1_1-SERVICE_ARCHITECTURE.md Day 3-4 (timeout management)                                             | PARTIALLY COVERED - timeout exists but no performance testing plan                       |
| C010     | Embedding model ~250-500 MB, downloaded on first init                    | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md line 144; research2/RESEARCH_SUMMARY.md line 82                           | High       | 00-PHASE_1_0_ENVIRONMENT_SETUP.md Task 1.0.5                                                                                                              | COVERED                                                                                  |
| C011     | Search deferred to Phase 2 (Claude Code MCP interface)                   | 01_1_6-AGENT_INTEGRATION.md lines 30-34, 56-65; 01_1_3-INDEXING_OPERATIONS.md lines 36-41                                  | High       | 01_1_3-INDEXING_OPERATIONS.md (explicit deferral); 02-PHASE_2_COST_QUALITY.md                                                                             | CONTRADICTED - Phase 2 plan shows REST search endpoints, not MCP                         |
| C012     | Claude MPM has no inherent sandbox isolation                             | research/claude-mpm-capabilities.md line 12                                                                                | High       | 01_1_4-PATH_VALIDATOR.md (infrastructure-level enforcement)                                                                                               | COVERED                                                                                  |
| C013     | Path validation must be infrastructure-level, not prompt-based           | research/claude-mpm-sandbox-containment-plan.md Section 2.1; research/combined-architecture-recommendations.md Section 2.2 | High       | 01_1_4-PATH_VALIDATOR.md (full PathValidator class with code templates)                                                                                   | COVERED                                                                                  |
| C014     | Session isolation via per-workspace .mcp-vector-search/ directories      | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md Section "Multi-Workspace Isolation"                                       | High       | 01_1_2-SESSION_MANAGEMENT.md; 01_1_7-INTEGRATION_TESTS.md Test Category 3                                                                                 | COVERED                                                                                  |
| C015     | Network isolation requires subprocess environment controls               | research/claude-mpm-sandbox-containment-plan.md Section 2.3 (NetworkIsolation class)                                       | High       | 01_1_6-AGENT_INTEGRATION.md lines 69-74 (deferred to Phase 2)                                                                                             | PARTIALLY COVERED - deferred but not explicit in Phase 2 plan                            |
| C016     | Tool call interception needed for agent sandbox                          | research/claude-mpm-sandbox-containment-plan.md Section 2.4 (ToolInterceptor class)                                        | Medium     | Not explicitly addressed in any plan                                                                                                                      | MISSING                                                                                  |
| C017     | Incremental indexing supported via --incremental flag (default behavior) | research2/mcp-vector-search-subprocess-integration-research.md Section 4.1                                                 | High       | 02-PHASE_2_COST_QUALITY.md Section 2.1                                                                                                                    | COVERED (but Phase 2 plan uses library-era language)                                     |
| C018     | File watch mode available (--watch flag)                                 | research2/mcp-vector-search-subprocess-integration-research.md Section 1.1 line 46                                         | Medium     | Not addressed in any plan                                                                                                                                 | MISSING (potential Phase 2+ feature)                                                     |
| C019     | Index health check available (mcp-vector-search index health)            | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md line 212                                                                  | Medium     | Not explicitly addressed in any plan                                                                                                                      | MISSING                                                                                  |
| C020     | Background indexing available (--background flag, uses Popen)            | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md lines 644-649                                                             | Medium     | 01_1_3-INDEXING_OPERATIONS.md Day 3-4 (background task execution)                                                                                         | PARTIALLY COVERED - plan mentions background tasks but doesn't specify --background flag |
| C021     | Project root detection walks up directory tree from cwd                  | research2/mcp-vector-search-subprocess-integration-research.md Section 2.1 lines 216-238                                   | High       | Not explicitly documented in plans                                                                                                                        | MISSING - could cause unexpected behavior if workspace has parent .git                   |
| C022     | Cost baseline: 7-13s first query, 5-10s subsequent                       | research/combined-architecture-recommendations.md Section 3.2 lines 216-217                                                | Medium     | IMPLEMENTATION_PLAN.md line 30: "Baseline Latency: 7-13 seconds"                                                                                          | COVERED (in reference plan, not in active plans)                                         |
| C023     | Claude MPM requires Claude Code CLI v2.1.3+                              | research/claude-mpm-capabilities.md line 20                                                                                | High       | IMPLEMENTATION_PLAN.md line 61                                                                                                                            | COVERED (but only in reference plan; not in Phase 2 agent integration)                   |
| C024     | Per-session ChromaDB collections superseded by per-workspace directories | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md; IMPLEMENTATION_PLAN.md lines 1076-1082                                   | High       | 01_1_2-SESSION_MANAGEMENT.md; 01_1_3-INDEXING_OPERATIONS.md                                                                                               | COVERED                                                                                  |
| C025     | mcp-vector-search auto-adds .mcp-vector-search/ to .gitignore            | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md line 368                                                                  | Medium     | Not mentioned in any plan                                                                                                                                 | MISSING (minor - auto-handled by CLI)                                                    |
| C026     | Corruption recovery: delete .mcp-vector-search/ and re-init              | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md lines 548-552                                                             | High       | 01_1_3-INDEXING_OPERATIONS.md (error handling)                                                                                                            | PARTIALLY COVERED - no explicit corruption recovery procedure documented                 |
| C027     | Audit logging must capture subprocess invocations                        | research/claude-mpm-sandbox-containment-plan.md Section 2.4                                                                | High       | 01_1_5-AUDIT_LOGGING.md (action types include subprocess_spawn, subprocess_complete, subprocess_error)                                                    | COVERED                                                                                  |
| C028     | 20+ path traversal attack patterns for fuzzing                           | research/claude-mpm-sandbox-containment-plan.md Section 3                                                                  | High       | 01_1_7-INTEGRATION_TESTS.md Test Category 4 (20+ patterns)                                                                                                | COVERED                                                                                  |
| C029     | Read-only mode for research sessions (agents should not write)           | research/claude-mpm-sandbox-containment-plan.md Section 1.1 Scenario 4                                                     | Medium     | 01_1_4-PATH_VALIDATOR.md (safe_write method exists but plan doesn't enforce read-only)                                                                    | PARTIALLY COVERED                                                                        |
| C030     | Rate limiting needed per session                                         | research/combined-architecture-recommendations.md Section 4.2 (not in MVP)                                                 | Medium     | 04-PHASE_4_OPERATIONS_SCALE.md Section 4.3                                                                                                                | COVERED (Phase 4)                                                                        |

---

## Table 2: Plan Items -> Research Claim Justification

| Plan Item                                             | Phase File                        | Supported by Claim IDs                                                    | Status                                                                                                |
| ----------------------------------------------------- | --------------------------------- | ------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- |
| WorkspaceIndexer subprocess manager                   | 01_1_1-SERVICE_ARCHITECTURE.md    | C001, C002, C003, C004                                                    | JUSTIFIED                                                                                             |
| FastAPI service on port 15010                         | 01_1_1-SERVICE_ARCHITECTURE.md    | N/A (project constraint from CLAUDE.md)                                   | JUSTIFIED (project config)                                                                            |
| Session CRUD with workspace directories               | 01_1_2-SESSION_MANAGEMENT.md      | C005, C014, C024                                                          | JUSTIFIED                                                                                             |
| Index status via .mcp-vector-search/ existence        | 01_1_2-SESSION_MANAGEMENT.md      | C005                                                                      | JUSTIFIED                                                                                             |
| Subprocess init + index two-step                      | 01_1_3-INDEXING_OPERATIONS.md     | C001, C002, C003, C004                                                    | JUSTIFIED                                                                                             |
| Search deferred to Phase 2                            | 01_1_3-INDEXING_OPERATIONS.md     | C011                                                                      | JUSTIFIED                                                                                             |
| Path traversal prevention                             | 01_1_4-PATH_VALIDATOR.md          | C013, C028                                                                | JUSTIFIED                                                                                             |
| Session ID middleware validation                      | 01_1_4-PATH_VALIDATOR.md          | C012                                                                      | JUSTIFIED                                                                                             |
| Subprocess event audit logging                        | 01_1_5-AUDIT_LOGGING.md           | C027                                                                      | JUSTIFIED                                                                                             |
| Agent integration deferred                            | 01_1_6-AGENT_INTEGRATION.md       | C011, C012                                                                | JUSTIFIED                                                                                             |
| Concurrent workspace indexing tests                   | 01_1_7-INTEGRATION_TESTS.md       | C006, C007                                                                | JUSTIFIED                                                                                             |
| Security fuzzing (20+ patterns)                       | 01_1_7-INTEGRATION_TESTS.md       | C028                                                                      | JUSTIFIED                                                                                             |
| Docker Compose deployment                             | 01_1_8-DOCUMENTATION_RELEASE.md   | N/A (standard practice)                                                   | JUSTIFIED (implied)                                                                                   |
| Incremental indexing (Phase 2.1)                      | 02-PHASE_2_COST_QUALITY.md        | C017                                                                      | JUSTIFIED                                                                                             |
| Query caching (Phase 2.2)                             | 02-PHASE_2_COST_QUALITY.md        | No research source for subprocess-based caching                           | UNJUSTIFIED - caching strategy assumes REST search which is deferred/MCP-based                        |
| Advanced filtering (Phase 2.3)                        | 02-PHASE_2_COST_QUALITY.md        | No research source for subprocess-based filtering                         | UNJUSTIFIED - filter implementation unclear in MCP-based search                                       |
| Warm session pools (Phase 2.4)                        | 02-PHASE_2_COST_QUALITY.md        | C022 (latency baseline)                                                   | PARTIALLY JUSTIFIED - latency targets from research, but pool design assumes library-era architecture |
| Cost $0.05/query target (Phase 2.5)                   | 02-PHASE_2_COST_QUALITY.md        | No baseline measurement                                                   | UNJUSTIFIED - no methodology to measure baseline                                                      |
| Semantic reranking (Phase 3.1)                        | 03-PHASE_3_RERANKING_UX.md        | research/combined-architecture-recommendations.md Section 5.2             | JUSTIFIED (but source doc not updated for subprocess)                                                 |
| Result deduplication (Phase 3.2)                      | 03-PHASE_3_RERANKING_UX.md        | research/combined-architecture-recommendations.md Section 5.2             | JUSTIFIED (but source doc not updated for subprocess)                                                 |
| Multi-turn conversations (Phase 3.3)                  | 03-PHASE_3_RERANKING_UX.md        | No research source (identified as gap in IMPLEMENTATION_PLAN_ANALYSIS.md) | UNJUSTIFIED                                                                                           |
| 95%+ precision target                                 | 03-PHASE_3_RERANKING_UX.md        | No evaluation framework defined in research                               | UNJUSTIFIED                                                                                           |
| Kubernetes 3+ replicas (Phase 4.2)                    | 04-PHASE_4_OPERATIONS_SCALE.md    | research/combined-architecture-recommendations.md Section 9.3             | JUSTIFIED (but source doc not updated for subprocess)                                                 |
| Distributed session state with Redis (Phase 4.3)      | 04-PHASE_4_OPERATIONS_SCALE.md    | No research on distributed subprocess state                               | UNJUSTIFIED - per-workspace .mcp-vector-search/ dirs are local, not distributable                     |
| 10x throughput / 300+ concurrent sessions             | 04-PHASE_4_OPERATIONS_SCALE.md    | No performance research for subprocess model                              | UNJUSTIFIED                                                                                           |
| 99%+ uptime target                                    | 04-PHASE_4_OPERATIONS_SCALE.md    | No availability research                                                  | UNJUSTIFIED                                                                                           |
| Phase 1.0 environment setup (2-3 days)                | 00-PHASE_1_0_ENVIRONMENT_SETUP.md | C001, C008, C010                                                          | JUSTIFIED                                                                                             |
| mcp-vector-search installation via pip (provides CLI) | 00-PHASE_1_0_ENVIRONMENT_SETUP.md | C001                                                                      | JUSTIFIED                                                                                             |
| ~2.5GB disk space for dependencies                    | 00-PHASE_1_0_ENVIRONMENT_SETUP.md | research/mcp-vector-search-packaging-installation.md line 18              | JUSTIFIED (though source doc describes library installation, disk size applies to CLI too)            |

---

## Untraced Research Claims (Addressed in research but not in any plan)

| Claim ID | Claim                                    | Source                                                      | Severity of Omission                                                                   |
| -------- | ---------------------------------------- | ----------------------------------------------------------- | -------------------------------------------------------------------------------------- |
| C016     | Tool call interception for agent sandbox | research/claude-mpm-sandbox-containment-plan.md Section 2.4 | Medium - relevant for Phase 2 agent integration                                        |
| C018     | File watch mode (--watch flag)           | research2/subprocess-integration-research.md                | Low - useful future feature                                                            |
| C019     | Index health check command               | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md            | Medium - useful for operational monitoring                                             |
| C021     | Project root walks up directory tree     | research2/subprocess-integration-research.md Section 2.1    | High - could cause index to be created in wrong directory if workspace has parent .git |
| C025     | Auto .gitignore management               | research2/MCP_VECTOR_SEARCH_INTEGRATION_GUIDE.md            | Low - auto-handled                                                                     |
